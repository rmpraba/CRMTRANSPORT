<!--
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<link rel="import" href="..\..\bower_components/polymer/polymer.html">
<link rel="import" href="../transport-service/transport-service.html">
<link rel="stylesheet" type="text/css" href="../styles/styles.css">
<link rel="import" href="../bower_components/paper-item/paper-item.html">
<link rel="import" href="../bower_components/paper-button/paper-button.html">
<link rel="import" href="../../bower_components/paper-checkbox/paper-checkbox.html">
<link rel="import" href="../bower_components/paper-listbox/paper-listbox.html">
<link rel="import" href="../bower_components/paper-radio-button/paper-radio-button.html">
<link rel="import" href="../bower_components/paper-radio-group/paper-radio-group.html">
<link rel="import" href="../bower_components/paper-input/paper-input.html">


<dom-module id="zonedistance-card">
  <template>
    <style>
      .card {
        margin:5% 0 0 21%;
      }
      .field{
        /*width: 70%;*/
        margin-left: 30%;
      }
      .fields{
        width: 37%;
        padding: 0 0.25% 0 0%;
      }
      .card .fields paper-input{
        width:95%;
      }
      .card .field paper-input{
        width:70%;
      }
     
      .button{
        margin:2% 0 0 27%;
      }
      .card
      {
        border-collapse: collapse;
        border: 1px solid #6699ff;
        padding: 5px;
        width: 57%;
      }
      .btn11
      {
        margin-top: 6%;
        margin-left: 28%;
      }
      paper-dropdown-menu
      {
        width: 50%;
      }
      label
      {
        font-size: 19px;
      }

    </style>

    <div class="card">


    <div class="field">
        <label><b>{{schoolname}}</b></label>
    </div>

      <paper-input hidden value={{zoneid}}></paper-input>

      <div class="drop-down" style="margin-left: 30%;">  
        <paper-dropdown-menu id="newzone" label="Select The Zone">
          <paper-menu id="newzoneid" class="dropdown-content" on-iron-select="fnselectnewzone" attr-for-selected="value" required>
                 <paper-item value="zone1">Zone 1</paper-item>
                 <paper-item value="zone2">Zone 2</paper-item>
                 <paper-item value="zone3">Zone 3</paper-item>
                 <paper-item value="zone4">Zone 4</paper-item>
                 <paper-item value="zone5">Zone 5</paper-item>
                 <paper-item value="zone6">Zone 6</paper-item>
                 <paper-item value="zone7">Zone 7</paper-item>
                 <paper-item value="zone8">Zone 8</paper-item>
                 <paper-item value="zone9">Zone 9</paper-item>
                 <paper-item value="zone10">Zone 10</paper-item>
          </paper-menu>
        </paper-dropdown-menu>
      </div>

    
      <div class="drop-down" style="margin-left: 30%;"> 
        <paper-dropdown-menu id="mindistance" label="Select Minimum Distance">
          <paper-menu id="mindistid" class="dropdown-content" on-iron-select="fnselectmindistance" attr-for-selected="value" required>
                 <paper-item value="min0">0</paper-item>
                 <paper-item value="min1">1</paper-item>
                 <paper-item value="min2">2</paper-item>
                 <paper-item value="min3">3</paper-item>
                 <paper-item value="min4">4</paper-item>
                 <paper-item value="min5">5</paper-item>
                 <paper-item value="min6">6</paper-item>
                 <paper-item value="min7">7</paper-item>
                 <paper-item value="min8">8</paper-item>
                 <paper-item value="min9">9</paper-item>
                 <paper-item value="min10">10</paper-item>
                 <paper-item value="min11">11</paper-item>
                 <paper-item value="min12">12</paper-item>
                 <paper-item value="min13">13</paper-item>
                 <paper-item value="min14">14</paper-item>
                 <paper-item value="min15">15</paper-item>
                 <paper-item value="min16">16</paper-item>
                 <paper-item value="min17">17</paper-item>
                 <paper-item value="min18">18</paper-item>
                 <paper-item value="min19">19</paper-item>
                 <paper-item value="min20">20</paper-item>
          </paper-menu>
        </paper-dropdown-menu>
      </div>
    
      <div class="drop-down" style="margin-left: 30%;">  
        <paper-dropdown-menu id="macdistance" label="Select Maximum Distance">
          <paper-menu id="maxdistid" class="dropdown-content" on-iron-select="fnselectmaxdistance"  attr-for-selected="value" required>
                 <paper-item value="max0">0</paper-item>
                 <paper-item value="max1">1</paper-item>
                 <paper-item value="max2">2</paper-item>
                 <paper-item value="max3">3</paper-item>
                 <paper-item value="max4">4</paper-item>
                 <paper-item value="max5">5</paper-item>
                 <paper-item value="max6">6</paper-item>
                 <paper-item value="max7">7</paper-item>
                 <paper-item value="max8">8</paper-item>
                 <paper-item value="max9">9</paper-item>
                 <paper-item value="max10">10</paper-item>
                 <paper-item value="max11">11</paper-item>
                 <paper-item value="max12">12</paper-item>
                 <paper-item value="max13">13</paper-item>
                 <paper-item value="max14">14</paper-item>
                 <paper-item value="max15">15</paper-item>
                 <paper-item value="max16">16</paper-item>
                 <paper-item value="max17">17</paper-item>
                 <paper-item value="max18">18</paper-item>
                 <paper-item value="max19">19</paper-item>
                 <paper-item value="max20">20</paper-item>
          </paper-menu>
        </paper-dropdown-menu>
      </div>  

      <paper-item hidden>{{distanceid}}</paper-item>

      <div class="fields" style="margin-left: 30%;">
          <paper-input label="Enter Fee" value="{{fee}}" id="feez" allowed-pattern="[0-9]" required error-message="needs Fee!"></paper-input>
      </div>


      <div class="btn1">
        <paper-button id="button" class="button" on-click="fnsubmit">Submit</paper-button>
      </div>

    </div>

    <transport-service id="service"></transport-service>
  </template>
  <script>
  (function() {
    'use strict';
    var zonename="";
    var min_distance="";
    var max_distance="";
    Polymer({
      is: 'zonedistance-card',
      ready:function()
      {
        //this.schoolname=sessionStorage.getItem("schoolname");
      },
      fnclear:function()
      {
        this.fee=""; 
        document.querySelector('#newzoneid').selected=-1;
        document.querySelector('#mindistid').selected=-1;
        document.querySelector('#maxdistid').selected=-1;
      },
      
      fnselectnewzone:function(e)
      { 
        zonename=e.target.selectedItem.textContent.trim();
      },
      fnselectmindistance:function(e)
      {
        min_distance=e.target.selectedItem.textContent.trim();
      },
      fnselectmaxdistance:function(e)
      {
        max_distance=e.target.selectedItem.textContent.trim(); 

        if(min_distance>max_distance)
        {
          //alert(min_distance+" "+max_distance);
          alert("Please Select Maximum distance");
          this.$.feez.disabled=true;
        }
        else
        {
          this.$.feez.disabled=false;
        }
      },
      fnsubmit:function()
      {
        if(this.fee="")
        {
          this.$.fee.validate();
        }
        else
        {
          //alert(zonename+" "+this.zoneid+" "+this.distanceid);
        this.$.service.fnnewzone(zonename,this.zoneid,this.distanceid);
        this.$.service.fnnewdistance(this.distanceid,min_distance,max_distance,this.fee);
        this.fnclear();
        }
        
      }

     
    });
  })();
  </script>
</dom-module>
